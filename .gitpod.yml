# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.
image:
  file: .gitpod.dockerfile

tasks:
  - name: Start the mongodb Server
    init: |
      mkdir -p /workspace/data && mongod --dbpath /workspace/data

  - name: Start the server
    init: go get && go build ./...
    command: |
      gp ports await 27017
      go run ./...

ports:
  - port: 9000
    onOpen: open-browser
    visibility: public
    
  - port: 27017